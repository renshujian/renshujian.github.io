{"componentChunkName":"component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js","path":"/blog/2020-03-07-csharp-enable-nullable/","result":{"data":{"site":{"id":"Site","siteMetadata":{"title":"书剑温州录","social":[{"name":"github","url":"https://github.com/renshujian"},{"name":" ","url":"/#覆盖gatsby-theme-blog-core/gatsby-config.js中的siteMetadata.social[1]"}]}},"blogPost":{"__typename":"MdxBlogPost","id":"fe7823d9-50b6-526d-8f91-2915efc0d1e0","excerpt":"问题 因为有TS的经验，升级到C#8.0后信心满满地 开启可空检查 ，然后掉进了类型参数坑。示例： ??? 一边警告我Value属性不可为空需要初始化，另一边在我要调用Value上的方法时警告我Value可能为空。 在编译器的视角，类型参数 T 是否可为空呢？ 解答 让MSDN…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"在C#中启用可为空引用类型 (1)\",\n  \"date\": \"2020-03-07T00:00:00.000Z\",\n  \"tags\": [\"c#\"],\n  \"keywords\": [\"nullable\", \"generics\", \"CS8618\", \"unknown\", \"泛型\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"问题\"\n  }, \"\\u95EE\\u9898\"), mdx(\"p\", null, \"\\u56E0\\u4E3A\\u6709TS\\u7684\\u7ECF\\u9A8C\\uFF0C\\u5347\\u7EA7\\u5230C#8.0\\u540E\\u4FE1\\u5FC3\\u6EE1\\u6EE1\\u5730\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/renshujian/learning-algorithm/commit/3cefc1a1bfb99a188c8af5e055ee9a4fdfdf28f4\"\n  }), \"\\u5F00\\u542F\\u53EF\\u7A7A\\u68C0\\u67E5\"), \"\\uFF0C\\u7136\\u540E\\u6389\\u8FDB\\u4E86\\u7C7B\\u578B\\u53C2\\u6570\\u5751\\u3002\\u793A\\u4F8B\\uFF1A\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-csharp\"\n  }), \"public class Container<T>\\n{\\n    public T Value {get; set;}\\n    public override string ToString() => Value.ToString();\\n}\\n\")), mdx(Callout, {\n    intent: \"warning\",\n    mdxType: \"Callout\"\n  }, \"Non-nullable property 'Value' is uninitialized. Consider declaring the property as nullable. [src] csharp(CS8618) [3, 14]\"), mdx(Callout, {\n    intent: \"warning\",\n    mdxType: \"Callout\"\n  }, \"Dereference of a possibly null reference. [src] csharp(CS8602) [4, 42]\"), mdx(\"p\", null, \"??? \\u4E00\\u8FB9\\u8B66\\u544A\\u6211Value\\u5C5E\\u6027\\u4E0D\\u53EF\\u4E3A\\u7A7A\\u9700\\u8981\\u521D\\u59CB\\u5316\\uFF0C\\u53E6\\u4E00\\u8FB9\\u5728\\u6211\\u8981\\u8C03\\u7528Value\\u4E0A\\u7684\\u65B9\\u6CD5\\u65F6\\u8B66\\u544A\\u6211Value\\u53EF\\u80FD\\u4E3A\\u7A7A\\u3002\"), mdx(\"p\", null, \"\\u5728\\u7F16\\u8BD1\\u5668\\u7684\\u89C6\\u89D2\\uFF0C\\u7C7B\\u578B\\u53C2\\u6570\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"T\"), \"\\u662F\\u5426\\u53EF\\u4E3A\\u7A7A\\u5462\\uFF1F\"), mdx(\"h2\", {\n    \"id\": \"解答\"\n  }, \"\\u89E3\\u7B54\"), mdx(\"p\", null, \"\\u8BA9MSDN tell you\\u3002\\u6839\\u636E\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.microsoft.com/zh-cn/dotnet/csharp/nullable-attributes#generic-definitions-and-nullability\"\n  }), \"\\u6587\\u6863\"), \"\\uFF0C\\u56E0\\u4E3A\\u53EF\\u7A7A\\u503C\\u7C7B\\u578B\\u662F\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Nullable<T>\"), \"\\uFF0C\\u53EF\\u7A7A\\u5F15\\u7528\\u7C7B\\u578B\\u662F\\u5E26\\u6CE8\\u89E3\\u7684\\u539F\\u7C7B\\u578B\\uFF0C\\u5728\\u4E0D\\u786E\\u5B9A\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"T\"), \"\\u662F\\u503C\\u7C7B\\u578B\\u8FD8\\u662F\\u5F15\\u7528\\u7C7B\\u578B\\u65F6\\u7F16\\u8BD1\\u5668\\u4E0D\\u80FD\\u6B63\\u786E\\u751F\\u6210\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"T?\"), \"\\u7684\\u4EE3\\u7801\\u3002\"), mdx(\"p\", null, \"\\u4E0D\\u5B58\\u5728\\u65E0\\u7EA6\\u675F\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"T?\"), \"\\uFF0C\\u4E5F\\u5C31\\u4E0D\\u80FD\\u5C06\\u65E0\\u7EA6\\u675F\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"T\"), \"\\u89C6\\u4F5C\\u4E0D\\u53EF\\u7A7A\\u3002\\u6839\\u636E\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.microsoft.com/zh-cn/dotnet/csharp/language-reference/proposals/csharp-8.0/nullable-reference-types-specification#nullability-of-types\"\n  }), \"\\u89C4\\u8303\\u8349\\u6848\"), \"\\uFF0C\\u65E0\\u7EA6\\u675F\\u7684\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"T\"), \"\\u7684\\u53EF\\u7A7A\\u6027\\u4E3A\\u672A\\u77E5\\uFF0C\\u540C\\u65F6\\u63A5\\u53D7\\u53EF\\u7A7A\\u548C\\u4E0D\\u53EF\\u7A7A\\u8B66\\u544A\\u3002\"), mdx(\"p\", null, \"\\u793A\\u4F8B\\u4E2D\\u7684\\u5BB9\\u5668\\u5BF9\\u4E8E\\u503C\\u7684\\u7C7B\\u578B\\u548C\\u53EF\\u7A7A\\u6027\\u4E0D\\u505A\\u4EFB\\u4F55\\u5047\\u8BBE\\uFF0C\\u5BF9\\u4E8E\\u53EF\\u7A7A\\u548C\\u975E\\u53EF\\u7A7A\\u7684\\u7C7B\\u578B\\u53C2\\u6570\\u90FD\\u5E94\\u8BE5\\u6B63\\u5E38\\u5DE5\\u4F5C\\u3002\", mdx(\"del\", {\n    parentName: \"p\"\n  }, \"T\\u53EF\\u4EE5\\u6539\\u540D\\u53EBCat\\u3002\")), mdx(\"h2\", {\n    \"id\": \"修复\"\n  }, \"\\u4FEE\\u590D\"), mdx(Callout, {\n    intent: \"danger\",\n    mdxType: \"Callout\"\n  }, \"\\u9519\\u8BEF\\u793A\\u4F8B1\\uFF0C\", mdx(\"del\", null, \"\\u7A0B\\u5E8F\\u5458\\u7684\\u89C2\\u6D4B\\u5BFC\\u81F4T\\u7684\\u574D\\u7F29\\u3002\"), \"AllowNull\\u7279\\u6027\\u5728T\\u4E3A\\u4E0D\\u53EF\\u7A7A\\u7C7B\\u578B\\u65F6\\u5F3A\\u5236\\u7F16\\u8BD1\\u5668\\u63A5\\u53D7\\u53EF\\u7A7A\\u53C2\\u6570\\u3002\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-csharp\"\n  }), \"public class Container<T>\\n{\\n    [System.Diagnostics.CodeAnalysis.AllowNull]\\n    public T Value {get; set;} = default;\\n    static void NoWarning() => new Container<string>{Value=null};\\n}\\n\")), mdx(Callout, {\n    intent: \"danger\",\n    mdxType: \"Callout\"\n  }, \"\\u9519\\u8BEF\\u793A\\u4F8B2\\uFF0C\\u6316\\u5751\\u4E0D\\u586B\\uFF0C\\u5BB3\\u4EBA\\u5BB3\\u5DF1\\u3002\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-csharp\"\n  }), \"public class Container<T>\\n{\\n    public T Value {get; set;} = default!;\\n    static void NoWarning() => new Container<string>().Value.Equals(\\\"\\\");\\n}\\n\")), mdx(Callout, {\n    intent: \"success\",\n    mdxType: \"Callout\"\n  }, \"\\u5728\\u65E0\\u6CD5\\u786E\\u5B9A\\u5177\\u4F53\\u7C7B\\u578B\\u65F6\\u6CA1\\u6709\\u5408\\u7406\\u7684\\u521D\\u59CB\\u503C\\uFF0C\\u53EA\\u6709\\u501F\\u52A9\\u5916\\u529B\\uFF0C\\u8BA9\\u77E5\\u9053\\u5177\\u4F53\\u7C7B\\u578B\\u7684\\u4EBA\\u4F20\\u9012\\u5408\\u7406\\u7684\\u521D\\u59CB\\u503C\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-csharp\"\n  }), \"public class Container<T>\\n{\\n    public T Value {get; set;}\\n    public Container(T value) => Value = value;\\n    public override string ToString() => Value?.ToString() ?? \\\"null\\\";\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"思考\"\n  }, \"\\u601D\\u8003\"), mdx(\"p\", null, \"\\u5982\\u679C\\u6709\\u4EBA\\u770B\\u4E86\\u6587\\u7AE0\\u5F00\\u5934\\u7684\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/renshujian/learning-algorithm/commit/3cefc1a1bfb99a188c8af5e055ee9a4fdfdf28f4\"\n  }), \"commit1\"), \"\\uFF0C\\u4F1A\\u53D1\\u73B0\\u5176\\u4E2D\\u5C31\\u72AF\\u4E86\\u9519\\u8BEF\\u793A\\u4F8B1\\u3002\\u5199\\u4F5C\\u7684\\u8FC7\\u7A0B\\u6574\\u7406\\u4E86\\u601D\\u8DEF\\uFF0C\\u8BA9\\u6211\\u53D1\\u73B0\\u4E86\\u9519\\u8BEF\\uFF0C\\u63D0\\u4EA4\\u4E86\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/renshujian/learning-algorithm/commit/8fadacd8c670269b533e5790fd76de149268e930\"\n  }), \"commit2\"), \"\\u8FDB\\u884C\\u4FEE\\u590D\"), mdx(\"h2\", {\n    \"id\": \"参考\"\n  }, \"\\u53C2\\u8003\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://docs.microsoft.com/zh-cn/dotnet/csharp/nullable-attributes#generic-definitions-and-nullability\"\n  }), \"\\u6587\\u6863\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://docs.microsoft.com/zh-cn/dotnet/csharp/language-reference/proposals/csharp-8.0/nullable-reference-types-specification#nullability-of-types\"\n  }), \"\\u89C4\\u8303\\u8349\\u6848\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://stackoverflow.com/questions/59023377/what-is-unknown-nullability-in-c-sharp-8\"\n  }), \"stack overflow\"))));\n}\n;\nMDXContent.isMDXComponent = true;","slug":"/blog/2020-03-07-csharp-enable-nullable/","title":"在C#中启用可为空引用类型 (1)","tags":["c#"],"keywords":["nullable","generics","CS8618","unknown","泛型"],"date":"March 07, 2020"},"previous":{"__typename":"MdxBlogPost","id":"2165a9f8-4aa0-52fc-be43-b61692d0f938","excerpt":"本站定位 泛技术博客，以软件开发为中心，也会有生活、娱乐甚至哲 学内容。除了博客外也会作为试验场添加额外的页面。 文字语言 中文。目前的 首页 展示日文内容是出于玩梗需求的例外。 更新频率 从2020年4月开始保持每月4篇。目前处于建设阶段，主要精力会放在代码而不是内容上。","slug":"/blog/2020-02-10-hello-world/","title":"关于本站","date":"February 10, 2020"},"next":null},"pageContext":{"id":"fe7823d9-50b6-526d-8f91-2915efc0d1e0","previousId":"2165a9f8-4aa0-52fc-be43-b61692d0f938"}}}